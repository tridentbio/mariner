import{g as P,a as F,s as H,P as me,r as p,u as O,_ as A,b as h,j as n,c as V,d as I,e as ge,f,L as ye,F as Z,h as Ce,B as xe,T as b,i as ee,k as be,l as U,m as Me,I as ve,M as te,n as K,o as Ne,p as D,q as Se,C as Re,A as we,t as ke,v as X,w as $e,x as T,y as L,z as Be,D as z,E as Ee,G as Te,H as Le}from"./index.5bdb0a85.js";import{B as ze}from"./Badge.44cfa6d9.js";function De(e){return P("MuiCard",e)}F("MuiCard",["root"]);const Pe=["className","raised"],Fe=e=>{const{classes:t}=e;return I({root:["root"]},De,t)},He=H(me,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Oe=p.exports.forwardRef(function(t,s){const o=O({props:t,name:"MuiCard"}),{className:a,raised:i=!1}=o,d=A(o,Pe),r=h({},o,{raised:i}),m=Fe(r);return n(He,h({className:V(m.root,a),elevation:i?8:void 0,ref:s,ownerState:r},d))}),Ae=Oe;function Ve(e){return P("MuiCardContent",e)}F("MuiCardContent",["root"]);const Ie=["className","component"],Ue=e=>{const{classes:t}=e;return I({root:["root"]},Ve,t)},_e=H("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),je=p.exports.forwardRef(function(t,s){const o=O({props:t,name:"MuiCardContent"}),{className:a,component:i="div"}=o,d=A(o,Ie),r=h({},o,{component:i}),m=Ue(r);return n(_e,h({as:i,className:V(m.root,a),ownerState:r,ref:s},d))}),We=je,Ge=ge(n("path",{d:"M12 6.5c3.79 0 7.17 2.13 8.82 5.5-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5z"}),"RemoveRedEyeOutlined"),qe=({title:e})=>{if(e){if(typeof e=="string")return n(ye,{children:e})}else return null;return n(Z,{children:e})},Qe=({sx:e,children:t,title:s})=>n(Ae,{sx:e,variant:"outlined",children:f(We,{children:[n(qe,{title:s}),t]})}),R=({url:e,children:t,title:s,description:o,notifications:a})=>{const i=a.length?a[0].total:0,d=Ce();return n(xe,{sx:{cursor:"pointer"},onClick:()=>(d(e),!1),children:f(Qe,{sx:{boxShadow:"0px 3px 8px rgba(0,0,0,0.23)",transition:"box-shadow 0.3s","&:hover":{boxShadow:"0px 3px 17px rgba(0,0,0,0.23)"}},title:i?n(ze,{badgeContent:i,color:"primary",children:n(b,{fontSize:"h5.fontSize",color:"primary",children:s})}):n(b,{fontSize:"h5.fontSize",color:"primary",children:s}),children:[n(b,{variant:"body1",children:o}),t]})})},ne=({notifications:e,renderEvent:t})=>{const s=ee(),o=i=>{s(K([i]))},a=i=>{const d=Ne(e.filter(r=>r.source===i).map(r=>r.events)).map(r=>r.id);s(K(d))};return n(Z,{children:e.map((i,d)=>f("div",{children:[i.events.map((r,m)=>{const l=t(r),c=r.url?n(be,{component:"a",style:{textDecoration:"none",width:"100%"},href:r.url,onClick:u=>{u.stopPropagation(),o(r.id)},children:l},r.url):l;return f(U,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"row"},children:[c,n(Me,{title:"Mark it as viewed",children:n("div",{children:n(ve,{color:"primary",onClick:u=>{o(r.id),u.stopPropagation()},children:n(Ge,{})})})})]},m)}),i.events.length>0&&n(te,{onClick:r=>{r.stopPropagation(),a(i.source)},sx:{marginLeft:"auto",marginRight:0,color:"primary"},children:n(b,{variant:"body2",children:"Mark all as read"})})]},d))})},Ye=({notifications:e})=>{const t=D(o=>o.notifications.updatingEventIds);return n(R,{notifications:e,url:"/trainings",title:"Trainings",description:"This is where you can find all your trainings",children:n(ne,{renderEvent:o=>n(te,{disabled:t.includes(o.id),sx:{display:"flex",width:"100%"},children:o.source==="training:completed"?o.payload.experiment_name:"-"}),notifications:e})})},Je=({notifications:e})=>{const{data:t,isLoading:s}=Se({page:0,perPage:1});return f(R,{notifications:e,url:"/datasets/",title:"Datasets",description:"This is where you can find your datasets",children:[s&&n(Re,{}),(t==null?void 0:t.total)===0&&f("div",{children:[n(b,{variant:"body1",children:"You dont have any datasets yet..."}),n(we,{to:"/datasets#new",children:"Create first dataset "})]})]})},Ke=({notifications:e})=>n(R,{title:"Models",url:"/models",notifications:e,description:"This is where you can find your models"});function Xe(e){return P("MuiMasonry",e)}F("MuiMasonry",["root"]);const Ze=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],C=e=>Number(e.replace("px","")),et={flexBasis:"100%",width:0,margin:0,padding:0},tt=e=>{const{classes:t}=e;return I({root:["root"]},Xe,t)},nt=({ownerState:e,theme:t})=>{let s={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const o={};if(e.isSSR){const l={},c=C(t.spacing(e.defaultSpacing));for(let u=1;u<=e.defaultColumns;u+=1)l[`&:nth-of-type(${e.defaultColumns}n+${u%e.defaultColumns})`]={order:u};return o.height=e.defaultHeight,o.margin=-(c/2),o["& > *"]=h({},s["& > *"],l,{margin:c/2,width:`calc(${(100/e.defaultColumns).toFixed(2)}% - ${c}px)`}),h({},s,o)}const a=X({values:e.spacing,breakpoints:t.breakpoints.values}),i=$e(t);s=T(s,L({theme:t},a,l=>{let c;if(typeof l=="string"&&!Number.isNaN(Number(l))||typeof l=="number"){const u=Number(l);c=z(i,u)}else c=l;return h({margin:`calc(0px - (${c} / 2))`,"& > *":{margin:`calc(${c} / 2)`}},e.maxColumnHeight&&{height:typeof c=="number"?Math.ceil(e.maxColumnHeight+C(c)):`calc(${e.maxColumnHeight}px + ${c})`})}));const r=X({values:e.columns,breakpoints:t.breakpoints.values});return s=T(s,L({theme:t},r,l=>{const u=`${(100/Number(l)).toFixed(2)}%`,N=typeof a=="string"&&!Number.isNaN(Number(a))||typeof a=="number"?z(i,Number(a)):"0px";return{"& > *":{width:`calc(${u} - ${N})`}}})),typeof a=="object"&&(s=T(s,L({theme:t},a,(l,c)=>{if(c){const u=Number(l),N=Object.keys(r).pop(),g=z(i,u);return{"& > *":{width:`calc(${`${(100/(typeof r=="object"?r[c]||r[N]:r)).toFixed(2)}%`} - ${g})`}}}return null}))),s},st=H("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(e,t)=>[t.root]})(nt),ot=p.exports.forwardRef(function(t,s){const o=O({props:t,name:"MuiMasonry"}),{children:a,className:i,component:d="div",columns:r=4,spacing:m=1,defaultColumns:l,defaultHeight:c,defaultSpacing:u}=o,N=A(o,Ze),g=p.exports.useRef(),[B,_]=p.exports.useState(),j=!B&&c&&l!==void 0&&u!==void 0,[oe,re]=p.exports.useState(j?l-1:0),W=h({},o,{spacing:m,columns:r,maxColumnHeight:B,defaultColumns:l,defaultHeight:c,defaultSpacing:u,isSSR:j}),ie=tt(W),ae=y=>{if(!g.current||!y||y.length===0)return;const x=g.current,G=g.current.firstChild,q=x.clientWidth,Q=G.clientWidth;if(q===0||Q===0)return;const Y=window.getComputedStyle(G),ue=C(Y.marginLeft),pe=C(Y.marginRight),E=Math.round(q/(Q+ue+pe)),w=new Array(E).fill(0);let S=!1;x.childNodes.forEach(M=>{if(M.nodeType!==Node.ELEMENT_NODE||M.dataset.class==="line-break"||S)return;const k=window.getComputedStyle(M),he=C(k.marginTop),fe=C(k.marginBottom),J=C(k.height)?Math.ceil(C(k.height))+he+fe:0;if(J===0){S=!0;return}for(let v=0;v<M.childNodes.length;v+=1){const $=M.childNodes[v];if($.tagName==="IMG"&&$.clientHeight===0){S=!0;break}}if(!S){const v=w.indexOf(Math.min(...w));w[v]+=J;const $=v+1;M.style.order=$}}),S||Be.exports.flushSync(()=>{_(Math.max(...w)),re(E>0?E-1:0)})},ce=p.exports.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(ae));p.exports.useEffect(()=>{const y=ce.current;if(y!==void 0)return g.current&&g.current.childNodes.forEach(x=>{y.observe(x)}),()=>y?y.disconnect():{}},[r,m,a]);const le=ke(s,g),de=new Array(oe).fill("").map((y,x)=>n("span",{"data-class":"line-break",style:h({},et,{order:x+1})},x));return f(st,h({as:d,className:V(ie.root,i),ref:le,ownerState:W},N,{children:[a,de]}))}),rt=ot,it=({children:e})=>n(U,{children:e}),at=e=>e.source==="changelog",ct=e=>{const t=(s,o)=>{const a={};for(let i=0;i<s.length;i++){const d=s[i],r=o(d,i,s);r!==void 0&&(r in a?a[r].push(d):a[r]=[d])}return a};return n(R,{title:"Release Changes",notifications:e.notifications,url:"/#",description:"...",children:n(ne,{renderEvent:s=>{if(at(s))return f(it,{children:[n(b,{variant:"h5",children:s.payload.version}),n(U,{children:Ee(t(s.payload.changes,o=>o.type)).map(([o,a])=>f("div",{children:[n(b,{variant:"h6",children:o}),n("ul",{children:a.map((i,d)=>n("li",{children:i.message},d))})]},o))})]})},notifications:e.notifications})})},lt=({notifications:e})=>n(R,{title:"Deployments",url:"/deployments",notifications:e,description:"This is where you can find deployments shared with you."}),se=e=>t=>t.source===e,dt=se("training:completed"),ut=se("changelog"),ft=()=>{const e=ee(),t=D(i=>i.notifications.notifications),s=D(i=>i.notifications.fetchingNotifications)==="loading",o=p.exports.useMemo(()=>t.filter(dt),[t]),a=p.exports.useMemo(()=>t.filter(ut),[t]);return p.exports.useEffect(()=>{s||e(Te())},[]),n(Le,{children:f(rt,{columns:2,spacing:5,children:[a.length>0&&n(ct,{notifications:a}),n(Je,{notifications:[]}),n(Ke,{notifications:[]}),n(Ye,{notifications:o}),n(lt,{notifications:[]})]})})};export{ft as default};
