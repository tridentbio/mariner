name: HIV Extra Trees Classifier
framework: sklearn

dataset:
  name: HIV
  featureColumns:
    - name: smiles
      dataType:
        domainKind: smiles
    - name: activity
      dataType:
        domainKing: categorical
        classes:
          CI: 0
          CM: 1

  targetColumns:
    - name: HIV_active
      dataType:
        domainKind: numeric

  featurizers:
    - name: MolFPFeaturizer
      type: molfeat.trans.fp.FPVecFilteredTransformer
      forward_args:
        X: $smiles

  transforms:
    - name: OneHotEncoder
      type: sklearn.preprocessing.OneHotEncoder
      forward_args:
        X: $activity

    - name: Concat
      type: fleet.model_builder.transforms.np_concatenate.NpConcatenate
      forward_args:
        X:
          - $MolFPFeaturizer
          - $OneHotEncoder

spec:
  model:
    type: sklearn.ensemble.ExtraTreesClassifier
    fitArgs:
      X: $Concat
      y: $HIV_active
